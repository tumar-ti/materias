// Lista de materias por semestre
const materias = [
  {
    semestre: "2do Sem. 1",
    materias: [
      { nombre: "ðŸ“– Historia 1", area: "Historia", clase: "historia", creditos: 6 },
      { nombre: "ðŸ—ï¸ ConstrucciÃ³n 1", area: "TecnologÃ­a y ConstrucciÃ³n", clase: "construccion", creditos: 6 },
      { nombre: "ðŸ›ï¸ Proyecto 1 (P1)", area: "Proyecto", clase: "proyecto", creditos: 24 },
      { nombre: "ðŸŽ¯ Transversal 1", area: "Transversal", clase: "transversal", creditos: 6 },
      { nombre: "â„ï¸ Acondicionamiento I", area: "Acondicionamiento", clase: "acond", creditos: 6 },
      { nombre: "ðŸ§± Estructuras 1", area: "Estructuras", clase: "estructuras", creditos: 12 }
    ]
  },
  {
    semestre: "2do Sem. 2",
    materias: [
      { nombre: "ðŸ“– Historia 2", area: "Historia", clase: "historia", creditos: 6 },
      { nombre: "ðŸ—ï¸ ConstrucciÃ³n 2", area: "TecnologÃ­a y ConstrucciÃ³n", clase: "construccion", creditos: 9 },
      { nombre: "ðŸ›ï¸ Proyecto 2 (P2)", area: "Proyecto", clase: "proyecto", creditos: 24 },
      { nombre: "ðŸŽ¯ Transversal 2", area: "Transversal", clase: "transversal", creditos: 6 }
    ]
  },
  {
    semestre: "3ro Sem. 1",
    materias: [
      { nombre: "ðŸ“– TeorÃ­a 1", area: "TeorÃ­a", clase: "teoria", creditos: 6 },
      { nombre: "ðŸ“– Historia (Prof.)", area: "Historia", clase: "historia", creditos: 6 },
      { nombre: "ðŸ’¡ Acondicionamiento II", area: "Acondicionamiento", clase: "acond", creditos: 9 },
      { nombre: "ðŸ—ï¸ Proyecto Urbano BÃ¡sico 1 (PUB1)", area: "Proyecto", clase: "proyecto", creditos: 12 },
      { nombre: "ðŸŽ¯ Transversal 3", area: "Transversal", clase: "transversal", creditos: 6 }
    ]
  },
  {
    semestre: "3ro Sem. 2",
    materias: [
      { nombre: "ðŸ“– TeorÃ­a 2", area: "TeorÃ­a", clase: "teoria", creditos: 6 },
      { nombre: "ðŸ“– Historia (Prof.)", area: "Historia", clase: "historia", creditos: 6 },
      { nombre: "ðŸ—ï¸ Proyecto Urbano BÃ¡sico 2 (PUB2)", area: "Proyecto", clase: "proyecto", creditos: 12 },
      { nombre: "ðŸŽ¯ Transversal 4", area: "Transversal", clase: "transversal", creditos: 6 }
    ]
  },
  {
    semestre: "4to Sem. 1",
    materias: [
      { nombre: "ðŸ“– Historia 3", area: "Historia", clase: "historia", creditos: 6 },
      { nombre: "ðŸ—ï¸ ConstrucciÃ³n 3", area: "TecnologÃ­a y ConstrucciÃ³n", clase: "construccion", creditos: 9 },
      { nombre: "ðŸ—ï¸ Proyecto Urbano Avanzado (PUA)", area: "Proyecto", clase: "proyecto", creditos: 12 },
      { nombre: "ðŸ§± Estructuras 2", area: "Estructuras", clase: "estructuras", creditos: 12 },
      { nombre: "ðŸŽ¯ Transversal 5", area: "Transversal", clase: "transversal", creditos: 6 }
    ]
  },
  {
    semestre: "4to Sem. 2",
    materias: [
      { nombre: "ðŸ—ï¸ Proyecto Edilicio BÃ¡sico 1 (PEB1)", area: "Proyecto", clase: "proyecto", creditos: 12 },
      { nombre: "ðŸ—ï¸ Proyecto Edilicio BÃ¡sico 2 (PEB2)", area: "Proyecto", clase: "proyecto", creditos: 12 },
      { nombre: "ðŸ—ï¸ Proyecto Edilicio Avanzado (PEA)", area: "Proyecto", clase: "proyecto", creditos: 12 }
    ]
  }
];

// Mostrar en la pÃ¡gina
const contenedor = document.getElementById("malla");

materias.forEach(sem => {
  const columna = document.createElement("div");
  columna.className = "semestre";
  columna.innerHTML = `<h2>${sem.semestre}</h2>`;

  sem.materias.forEach(mat => {
    const tarjeta = document.createElement("div");
    tarjeta.className = `materia ${mat.clase}`;
    tarjeta.textContent = `${mat.nombre} (${mat.creditos} cr)`;
    tarjeta.setAttribute("data-area", mat.area);

    // Restaurar estado desde localStorage
    const id = `${sem.semestre}-${mat.nombre}`;
    if (localStorage.getItem(id) === "hecha") {
      tarjeta.classList.add("hecha");
    }

    // Al hacer clic
    tarjeta.addEventListener("click", () => {
      tarjeta.classList.toggle("hecha");
      localStorage.setItem(id, tarjeta.classList.contains("hecha") ? "hecha" : "");
    });

    columna.appendChild(tarjeta);
  });

  contenedor.appendChild(columna);
});
